@import "tailwindcss";
@plugin "@tailwindcss/typography";

@theme {
  --font-sans: 'Inter', sans-serif;
  --font-serif: 'Playfair Display', serif;
  --font-mono: 'Space Mono', monospace;

  --color-neo-yellow: #EBFF00;
  --color-neo-black: #000000;
  --color-neo-white: #FFFFFF;
}

/* Light theme (default via :root) */
:root {
  color-scheme: light;
  --color-tempo-bg: #ffffff;
  --color-tempo-text: #1e293b;
  --color-tempo-border: rgba(0, 0, 0, 0.1);
  --color-tempo-accent: #0ea5e9;
  --color-prose-text: #334155;
  --color-prose-heading: #0f172a;
  --color-prose-strong: #0ea5e9;
  --color-prose-marker: #ec4899;
  --color-prose-border: rgba(0, 0, 0, 0.1);
  --thoughts-text: #374151;
  --thoughts-title: #1f2937;
  --progress-start: #4b5563;
  --progress-end: #0f172a;
  --thoughts-page-title: #000000;
}

/* Dark theme overrides - High Contrast Brutalist */
[data-theme="dark"],
.dark {
  color-scheme: dark;
  /* extensive browser override */
  --color-tempo-bg: #161616;
  /* Soft Black */
  --color-tempo-text: #ffffff;
  --color-tempo-border: #ffffff;
  --color-tempo-accent: #EBFF00;
  --color-prose-text: #e2e8f0;
  --color-prose-heading: #ffffff;
  --color-prose-strong: #EBFF00;
  --color-prose-marker: #EBFF00;
  --color-prose-border: #ffffff;
  --thoughts-text: #ffffff;
  --thoughts-title: #ffffff;
  --progress-start: #333333;
  --progress-end: #ffffff;
  --thoughts-page-title: #ffffff;
}

@layer base {
  body {
    @apply font-sans antialiased;
    background-color: var(--color-tempo-bg);
    color: var(--color-tempo-text);
    min-height: 100vh;
    overflow-x: hidden;
    transition: background-color 0.3s ease, color 0.3s ease;
  }

  /* Force dark mode background on body when dark class is present on html */
  :global(html.dark) body {
    background-color: #161616 !important;
    /* Soft Black */
    color: #ffffff !important;
  }
}

/* Glass Effect Utilities */
@layer utilities {
  .glass-panel {
    @apply backdrop-blur-xl bg-white/5 dark:bg-black/10 border border-white/20 shadow-lg;
    box-shadow:
      0 4px 6px -1px rgba(0, 0, 0, 0.1),
      0 2px 4px -1px rgba(0, 0, 0, 0.06),
      inset 0 1px 0 0 rgba(255, 255, 255, 0.1);
  }

  .glass-panel-hover {
    @apply hover:bg-white/10 dark:hover:bg-black/20 hover:border-white/30 hover:shadow-xl transition-all duration-300;
    box-shadow:
      0 10px 15px -3px rgba(0, 0, 0, 0.1),
      0 4px 6px -2px rgba(0, 0, 0, 0.05),
      inset 0 1px 0 0 rgba(255, 255, 255, 0.2);
  }
}

/* Typography Overrides */
@layer components {
  .prose {
    @apply max-w-none font-serif text-[1.125rem] leading-[1.8] tracking-[0.01em];
    color: var(--color-prose-text) !important;

    /* CJK Optimization */
    word-break: break-word;
    text-align: justify;

    p {
      margin-top: 0;
      margin-bottom: 2em;
    }

    h1 {
      @apply font-black text-4xl md:text-5xl mt-0 mb-10 leading-[1.1];
      color: var(--color-prose-heading) !important;
    }

    h2 {
      @apply font-black text-2xl md:text-3xl mt-16 mb-8 leading-[1.2] pb-2 inline-block;
      color: var(--color-prose-heading) !important;
      border-bottom: 4px solid var(--color-neo-black);
      width: fit-content;
    }

    .dark h2 {
      border-bottom-color: var(--color-neo-white);
    }

    h3 {
      @apply font-bold text-xl md:text-2xl mt-12 mb-6 leading-tight;
      color: var(--color-prose-heading) !important;
    }

    strong {
      @apply font-black;
      color: var(--color-prose-heading) !important;
    }

    .dark strong {
      color: var(--color-neo-white) !important;
    }

    ul {
      @apply list-none pl-0 mb-10;
    }

    ul>li {
      @apply relative pl-8 mb-4;
    }

    ul>li::before {
      content: "///";
      @apply absolute left-0 font-mono font-bold text-xs;
      color: var(--color-prose-marker) !important;
      top: 0.25em;
    }

    ol {
      @apply list-decimal pl-8 mb-10 font-mono text-sm;
    }

    ol>li {
      @apply pl-4 mb-4 font-serif text-lg;
    }

    blockquote {
      @apply italic px-8 py-6 my-12 border-2 border-neo-black dark:border-white bg-neo-yellow/5 dark:bg-white/5 font-medium relative;
      color: var(--color-prose-text) !important;
    }

    blockquote::before {
      content: "QUOTE_TRANSIT";
      @apply absolute -top-4 -left-1 px-2 py-0.5 bg-neo-black text-white font-mono text-[10px] uppercase tracking-tighter;
    }

    .dark blockquote::before {
      @apply bg-white text-black;
    }

    hr {
      @apply my-16 border-0 h-1;
      background-image: linear-gradient(to right, var(--color-prose-border) 50%, transparent 50%);
      background-size: 10px 100%;
    }

    code {
      @apply font-mono text-sm px-1.5 py-0.5 border border-neo-black/20 dark:border-white/20 bg-gray-50 dark:bg-white/5;
      color: var(--color-tempo-accent) !important;
    }

    pre code {
      @apply border-0 p-0 bg-transparent;
    }
  }
}

/* Floating Orbs Animation */
@keyframes float {
  0% {
    transform: translate(0px, 0px) scale(1);
  }

  33% {
    transform: translate(30px, -50px) scale(1.1);
  }

  66% {
    transform: translate(-20px, 20px) scale(0.9);
  }

  100% {
    transform: translate(0px, 0px) scale(1);
  }
}

.animate-blob {
  animation: float 7s infinite;
}

.animation-delay-2000 {
  animation-delay: 2s;
}

.animation-delay-4000 {
  animation-delay: 4s;
}